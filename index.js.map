{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * PROJECT: Logi-Plex (logi-plex.blog)\n * VERSION: 3.0 (No-Word-Break Animation)\n * FEATURES: GSAP, Lenis, SplitType (Word focus), Lucide Icons\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    // --- 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК (LUCIDE) ---\n    const initIcons = () => {\n        if (typeof lucide !== 'undefined') {\n            lucide.createIcons();\n        }\n    };\n    initIcons();\n\n\n    // --- 2. ПЛАВНЫЙ СКРОЛЛ (LENIS) ---\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n    });\n\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n\n    // --- 3. МОБИЛЬНОЕ МЕНЮ ---\n    const burgerBtn = document.getElementById('burgerBtn');\n    const menuOverlay = document.getElementById('menuOverlay');\n    const mobileLinks = document.querySelectorAll('.mobile-nav__link');\n\n    if (burgerBtn && menuOverlay) {\n        const toggleMenu = () => {\n            burgerBtn.classList.toggle('active');\n            menuOverlay.classList.toggle('active');\n            document.body.style.overflow = menuOverlay.classList.contains('active') ? 'hidden' : '';\n        };\n        burgerBtn.addEventListener('click', toggleMenu);\n        mobileLinks.forEach(link => link.addEventListener('click', toggleMenu));\n    }\n\n\n    // --- 4. ДИНАМИЧЕСКИЙ ХЕДЕР ---\n    const header = document.getElementById('header');\n    window.addEventListener('scroll', () => {\n        if (window.scrollY > 50) {\n            header?.classList.add('header--scrolled');\n        } else {\n            header?.classList.remove('header--scrolled');\n        }\n    });\n\n\n    // --- 5. GSAP АНИМАЦИИ (БЕЗ РАЗРЫВА СЛОВ) ---\n    gsap.registerPlugin(ScrollTrigger);\n\n    // Анимация заголовка Hero (Анимируем СЛОВА, а не буквы)\n    const heroTitle = document.querySelector('#heroTitle');\n    if (heroTitle) {\n        // Разбиваем только на строки и слова, чтобы избежать разрыва слов\n        const split = new SplitType(heroTitle, { \n            types: 'lines, words',\n            lineClass: 'split-line' \n        });\n\n        // Анимируем слова, выплывающие снизу\n        gsap.from(split.words, {\n            y: \"100%\",\n            opacity: 0,\n            duration: 1,\n            stagger: 0.05,\n            ease: \"power4.out\",\n            delay: 0.5\n        });\n    }\n\n    // Универсальная анимация появления карточек (Bento, Courses, Benefits)\n    const animateFadeUp = (selector) => {\n        const elements = document.querySelectorAll(selector);\n        elements.forEach((el, index) => {\n            gsap.from(el, {\n                scrollTrigger: {\n                    trigger: el,\n                    start: \"top 90%\",\n                },\n                y: 40,\n                opacity: 0,\n                duration: 0.8,\n                delay: (index % 3) * 0.1,\n                ease: \"power2.out\"\n            });\n        });\n    };\n\n    animateFadeUp('.bento-card');\n    animateFadeUp('.course-card');\n    animateFadeUp('.benefit-card');\n    animateFadeUp('.feature-item');\n\n\n    // --- 6. ИНТЕРАКТИВНЫЙ ПАРАЛЛАКС (МЫШЬ) ---\n    document.addEventListener('mousemove', (e) => {\n        const xPos = (e.clientX - window.innerWidth / 2) * 0.01;\n        const yPos = (e.clientY - window.innerHeight / 2) * 0.01;\n\n        const floating = document.querySelectorAll('.glass-stat, .orbit-item, .main-sphere');\n        floating.forEach((el, i) => {\n            const speed = (i + 1) * 1.5;\n            gsap.to(el, {\n                x: xPos * speed,\n                y: yPos * speed,\n                duration: 1,\n                ease: \"power2.out\"\n            });\n        });\n    });\n\n\n    // --- 7. ЛОГИКА ФОРМЫ ---\n    const contactForm = document.getElementById('contactForm');\n    const phoneInput = document.getElementById('phoneInput');\n    const captchaLabel = document.getElementById('captchaQuestion');\n    const statusMsg = document.getElementById('formStatus');\n    \n    let answer;\n    const generateCaptcha = () => {\n        const a = Math.floor(Math.random() * 10);\n        const b = Math.floor(Math.random() * 10);\n        answer = a + b;\n        if (captchaLabel) captchaLabel.innerText = `${a} + ${b} = ?`;\n    };\n\n    if (contactForm) {\n        generateCaptcha();\n        phoneInput?.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/[^0-9+]/g, '');\n        });\n\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n            const userVal = parseInt(document.getElementById('captchaInput').value);\n\n            if (userVal !== answer) {\n                statusMsg.innerText = \"❌ Ошибка в капче!\";\n                statusMsg.style.color = \"var(--error)\";\n                generateCaptcha();\n                return;\n            }\n\n            statusMsg.innerText = \"⌛ Отправка...\";\n            statusMsg.style.color = \"var(--accent)\";\n\n            setTimeout(() => {\n                statusMsg.innerText = \"✅ Успешно отправлено!\";\n                statusMsg.style.color = \"var(--success)\";\n                contactForm.reset();\n                generateCaptcha();\n            }, 1800);\n        });\n    }\n\n\n    // --- 8. COOKIE POPUP ---\n    const popup = document.getElementById('cookiePopup');\n    const acceptBtn = document.getElementById('acceptCookies');\n\n    if (popup && !localStorage.getItem('cookies_accepted')) {\n        setTimeout(() => popup.classList.add('active'), 3000);\n    }\n\n    acceptBtn?.addEventListener('click', () => {\n        localStorage.setItem('cookies_accepted', 'true');\n        popup.classList.remove('active');\n    });\n\n});"],"names":["lenis","t","raf","time","burgerBtn","menuOverlay","mobileLinks","toggleMenu","link","header","heroTitle","split","animateFadeUp","selector","el","index","xPos","yPos","i","speed","contactForm","phoneInput","captchaLabel","statusMsg","answer","generateCaptcha","a","b","popup","acceptBtn"],"mappings":"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"}